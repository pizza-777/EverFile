(self["webpackChunkever_file"]=self["webpackChunkever_file"]||[]).push([[184],{3184:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return p}});var n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("nav",{staticClass:"text-center mt-3"},[t("router-link",{staticClass:"text-secondary",attrs:{to:"/"}},[e._v("Upload")])],1),t("div",{staticClass:"container mt-5"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"text-secondary"},[e._v(" file address: "),t("b-link",{staticClass:"link-secondary",attrs:{href:"https://everscan.io/accounts/"+this.$route.params.fileId+"?msg-types=internal%2Cexternal-in%2Cexternal-out",target:"_blank"}},[t("b",[e._v(e._s(this.$route.params.fileId))])])],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"text-danger text-center"},[e._v(e._s(e.error))]),t("b-card",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"mt-3 text-secondary"},[t("b-card-text",{staticClass:"mt-2"},[t("b",[e._v("name")]),e._v(": "+e._s(e.file.file_name))]),t("hr"),t("b-card-text",[t("b",[e._v("size")]),e._v(": "+e._s(e.humanFileSize))]),t("hr"),t("b-card-text",[t("b",[e._v("type")]),e._v(": "+e._s(e.file.file_type))]),t("hr"),t("b-button",{attrs:{variant:"outline-secondary"},on:{click:function(t){return e._download()}}},[e._v("Download")]),e.isImage?t("b-link",{staticClass:"text-secondary ms-3",attrs:{href:"./#/image/"+this.$route.params.fileId,target:"_blank"}},[t("span",{staticClass:"me-2"},[e._v("Open")]),t("span",[t("b-icon-box-arrow-up-right")],1)]):e._e()],1)],1)])},r=[],o=(a(6699),a(6369)),i=a(1964),s=a(7008),l=a.n(s);function d(e){var t=["Bytes","KB","MB","GB","TB"];if(0==e)return"0 Bytes";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,a),2)+" "+t[a]}var c=o["default"].extend({name:"FileView",data(){return{error:!1,file:!1,humanFileSize:!1,show:!1,isImage:!1}},methods:{async _download(){if(!this.file)return;const e=await(0,i.Sv)(this.$route.params.fileId);l()(e,this.file.file_name,this.file.file_type)},async showImage(){const e=await(0,i.Sv)(this.$route.params.fileId);var t=new Image;t.src=e;var a=window.open("");a.document.write(t.outerHTML),a.document.close()}},mounted(){(0,i.hr)(this.$route.params.fileId).then((e=>{"undefined"===typeof e?(this.error="Not found",this.show=!1):(this.file=e,this.humanFileSize=d(e.file_size),this.show=!0,this.isImage=e.file_type.includes("image"))}))}}),u=c,f=a(1001),h=(0,f.Z)(u,n,r,!1,null,null,null),p=h.exports},7008:function(e,t,a){var n,r,o;a(8675),a(3462),a(7380),a(1118),a(2801),function(a,i){r=[],n=i,o="function"===typeof n?n.apply(t,r):n,void 0===o||(e.exports=o)}(0,(function(){return function e(t,a,n){var r,o,i=window,s="application/octet-stream",l=n||s,d=t,c=!a&&!n&&d,u=document.createElement("a"),f=function(e){return String(e)},h=i.Blob||i.MozBlob||i.WebKitBlob||f,p=a||"download";if(h=h.call?h.bind(i):Blob,"true"===String(this)&&(d=[d,l],l=d[0],d=d[1]),c&&c.length<2048&&(p=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var m=new XMLHttpRequest;return m.open("GET",c,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,p,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&h!==f))return navigator.msSaveBlob?navigator.msSaveBlob(y(d),p):_(d);d=y(d),l=d.type||s}else if(/([\x80-\xff])/.test(d)){var v=0,w=new Uint8Array(d.length),b=w.length;for(v;v<b;++v)w[v]=d.charCodeAt(v);d=new h([w],{type:l})}function y(e){var t=e.split(/[:;,]/),a=t[1],n="base64"==t[2]?atob:decodeURIComponent,r=n(t.pop()),o=r.length,i=0,s=new Uint8Array(o);for(i;i<o;++i)s[i]=r.charCodeAt(i);return new h([s],{type:a})}function _(e,t){if("download"in u)return u.href=e,u.setAttribute("download",p),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var a=document.createElement("iframe");document.body.appendChild(a),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),a.src=e,setTimeout((function(){document.body.removeChild(a)}),333)}if(r=d instanceof h?d:new h([d],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(r,p);if(i.URL)_(i.URL.createObjectURL(r),!0);else{if("string"===typeof r||r.constructor===f)try{return _("data:"+l+";base64,"+i.btoa(r))}catch(g){return _("data:"+l+","+encodeURIComponent(r))}o=new FileReader,o.onload=function(e){_(this.result)},o.readAsDataURL(r)}return!0}}))}}]);
//# sourceMappingURL=184.a1128384.js.map